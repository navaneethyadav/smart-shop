{% extends 'base.html' %}
{% block content %}

<h3 class="mb-4">My Profile</h3>

<!-- ================= ERROR / SUCCESS MESSAGE ================= -->
{% if error %}
    <div class="alert alert-danger">
        {{ error }}
    </div>
{% endif %}

{% if messages %}
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">
            {{ message }}
        </div>
    {% endfor %}
{% endif %}

<!-- ================= PROFILE FORM ================= -->
<form method="post" class="card shadow-sm border-0 p-4">
    {% csrf_token %}

    <h5 class="mb-3">Account Details</h5>

    <div class="mb-3">
        <label class="form-label">Username</label>
        <input
            name="username"
            class="form-control"
            value="{{ request.user.username }}"
            required
        >
    </div>

    <div class="mb-3">
        <label class="form-label">Email</label>
        <input
            name="email"
            type="email"
            class="form-control"
            value="{{ request.user.email }}"
        >
    </div>

    <h5 class="mt-4 mb-3">Contact Information</h5>

    <div class="mb-3">
        <label class="form-label">Phone</label>
        <input
            name="phone"
            class="form-control"
            value="{{ profile.phone }}"
        >
    </div>

    <div class="mb-3">
        <label class="form-label">Address</label>
        <textarea
            name="address"
            class="form-control"
            rows="3"
        >{{ profile.address }}</textarea>
    </div>

    <button type="submit" class="btn btn-success">
        Save Changes
    </button>
</form>

<!-- ================= ACTION BUTTONS ================= -->
<div class="mt-4 d-flex flex-wrap gap-2">

    <!-- Change Password -->
    <a href="{% url 'store:change_password' %}"
       class="btn btn-outline-danger">
        Change Password
    </a>

    <!-- Notifications -->
    <a href="{% url 'store:notifications' %}"
       class="btn btn-outline-dark">
        View Notifications â†’
    </a>

</div>

{% endblock %}
