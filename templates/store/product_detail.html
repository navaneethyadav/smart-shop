{% extends 'base.html' %}

{% block content %}

<div class="row g-5 mt-3 align-items-start">

    <!-- ================= PRODUCT IMAGE ================= -->
    <div class="col-lg-6 text-center">
        <div class="bg-white p-4 rounded-4 shadow-sm">
            <img src="{{ product.image.url }}"
                 class="img-fluid rounded"
                 style="max-height:460px; object-fit:cover;"
                 alt="{{ product.name }}">
        </div>

        <!-- Image Trust Note -->
        <p class="small text-muted mt-2">
            100% original product images
        </p>
    </div>

    <!-- ================= PRODUCT DETAILS ================= -->
    <div class="col-lg-6">

        <h2 class="fw-bold mb-2">
            {{ product.name }}
        </h2>

        <h4 class="text-success fw-semibold mb-3">
            â‚¹ {{ product.price }}
        </h4>

        <!-- ================= STOCK STATUS ================= -->
        {% if product.stock == 0 %}
            <span class="badge bg-danger mb-3 px-3 py-2">
                Out of Stock
            </span>
        {% elif product.stock <= 5 %}
            <span class="badge bg-warning text-dark mb-3 px-3 py-2">
                Limited Stock Available
            </span>
        {% else %}
            <span class="badge bg-success mb-3 px-3 py-2">
                In Stock
            </span>
        {% endif %}

        <p class="text-muted mt-3">
            {{ product.description }}
        </p>

        <hr>

        <!-- ================= TRUST BADGES (CORE OF PHASE X1) ================= -->
        <div class="row small text-muted mb-4">
            <div class="col-6 mb-2">
                ğŸ”’ <strong>Secure Payments</strong><br>
                <span class="small">SSL protected checkout</span>
            </div>
            <div class="col-6 mb-2">
                ğŸ’° <strong>Cash on Delivery</strong><br>
                <span class="small">Pay after delivery</span>
            </div>
            <div class="col-6 mb-2">
                ğŸšš <strong>Fast Delivery</strong><br>
                <span class="small">3â€“5 business days</span>
            </div>
            <div class="col-6 mb-2">
                ğŸ” <strong>Easy Returns</strong><br>
                <span class="small">Hassle-free policy</span>
            </div>
        </div>

        <!-- ================= ACTION BUTTONS ================= -->
        <div class="d-grid gap-3">

            {% if product.stock > 0 %}
                <a href="{% url 'store:add_to_cart' product.id %}?buy_now=1"
                   class="btn btn-success btn-lg fw-bold">
                    Buy Now
                </a>

                <a href="{% url 'store:add_to_cart' product.id %}"
                   class="btn btn-dark btn-lg">
                    Add to Cart
                </a>
            {% else %}
                <button class="btn btn-secondary btn-lg" disabled>
                    Currently Unavailable
                </button>
            {% endif %}

        </div>

        <!-- ================= FINAL TRUST LINE ================= -->
        <p class="small text-muted mt-3">
            âœ” Trusted by multiple users Â· âœ” Secure checkout Â· âœ” Invoice provided
        </p>

    </div>
</div>

{% endblock %}
